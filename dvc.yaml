stages:
  prepare:
    cmd: python3 src/prepare.py
    deps:
      - src/prepare.py
      - params.yaml
    outs:
      - data/X_train.npy
      - data/X_test.npy
      - data/y_train.npy
      - data/y_test.npy

  train:
    cmd: python3 src/train.py
    deps:
      - src/train.py
      - params.yaml
      - data/X_train.npy
      - data/y_train.npy
    outs:
      - models/model.joblib

  evaluate:
    cmd: python3 src/evaluate.py
    deps:
      - src/evaluate.py
      - models/model.joblib
      - data/X_test.npy
      - data/y_test.npy
    metrics:
      - metrics.json:
          cache: false
